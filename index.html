<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plant Records</title>
    <style>
        .plant-form { margin: 20px; }
        .plant-list { margin: 20px; }
    </style>
</head>
<body>
    <div class="plant-form">
        <h2>Add Plant</h2>
        <input id="name" placeholder="Plant Name">
        <input id="species" placeholder="Species">
        <textarea id="notes" placeholder="Notes"></textarea>
        <button onclick="addPlant()">Add Plant</button>
    </div>
    <div class="plant-list" id="plantList">
        <h2>My Plants</h2>
    </div>

    <script>
        const { ipcRenderer } = require('electron');

        async function addPlant() {
            const plant = {
                name: document.getElementById('name').value,
                species: document.getElementById('species').value,
                notes: document.getElementById('notes').value
            };
            await ipcRenderer.invoke('add-plant', plant);
            loadPlants();
            clearForm();
        }

        async function loadPlants() {
            const plants = await ipcRenderer.invoke('get-plants');
            const list = document.getElementById('plantList');
            list.innerHTML = '<h2>My Plants</h2>';
            plants.forEach(plant => {
                list.innerHTML += `
                    <div>
                        <h3>${plant.name}</h3>
                        <p>Species: ${plant.species}</p>
                        <p>Notes: ${plant.notes}</p>
                    </div>
                `;
            });
        }

        function clearForm() {
            document.getElementById('name').value = '';
            document.getElementById('species').value = '';
            document.getElementById('notes').value = '';
        }

        loadPlants();
    </script>
</body>
</html>